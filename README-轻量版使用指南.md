# ğŸš€ è½»é‡ç‰ˆä½¿ç”¨æŒ‡å—

## ğŸ“‹ å¿«é€Ÿå¯åŠ¨æ–¹å¼

### ğŸ¯ æ–¹å¼1ï¼šç”Ÿäº§æ¨¡å¼ï¼ˆæ¨èï¼‰
```bash
# åŒå‡»è¿è¡Œï¼Œæˆ–å‘½ä»¤è¡Œ
.\start-lightweight.bat
# æˆ–
.\å¿«é€Ÿå¯åŠ¨-è½»é‡ç‰ˆ.bat
```

**ç‰¹ç‚¹**ï¼š
- âœ… æ„å»ºä¼˜åŒ–åçš„å‰ç«¯
- âœ… æœ€ä½³æ€§èƒ½
- âœ… é€‚åˆæ—¥å¸¸ä½¿ç”¨
- â³ é¦–æ¬¡å¯åŠ¨éœ€è¦æ„å»ºï¼ˆ2-3åˆ†é’Ÿï¼‰

### ğŸ”¥ æ–¹å¼2ï¼šå¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
```bash
.\start-lightweight-dev.bat
```

**ç‰¹ç‚¹**ï¼š
- âœ… æ”¯æŒçƒ­é‡è½½
- âœ… å¼€å‘è€…å·¥å…·
- âœ… ä»£ç ä¿®æ”¹ç«‹å³ç”Ÿæ•ˆ
- â³ å¯åŠ¨ç¨æ…¢ï¼ˆéœ€å¯åŠ¨å¤šä¸ªæœåŠ¡ï¼‰

### âš¡ æ–¹å¼3ï¼šæ‰‹åŠ¨å¯åŠ¨
```bash
# ç»ˆç«¯1ï¼šå¯åŠ¨åç«¯
cd backend-nodejs
npm install
npm start

# ç»ˆç«¯2ï¼šå¯åŠ¨å‰ç«¯ï¼ˆæ–°çª—å£ï¼‰
cd frontend
npm install
npm start

# ç»ˆç«¯3ï¼šå¯åŠ¨Electronï¼ˆæ–°çª—å£ï¼‰
cd frontend
npx electron ../electron/main-nodejs.js
```

## ğŸ”§ å¯åŠ¨é—®é¢˜è§£å†³

### âŒ é—®é¢˜1ï¼šå‰ç«¯åŠ è½½å¤±è´¥ ERR_CONNECTION_REFUSED

**ç—‡çŠ¶**ï¼š
```
âœ… åç«¯æœåŠ¡å¥åº·æ£€æŸ¥é€šè¿‡  
ğŸ¨ åŠ è½½å‰ç«¯ç•Œé¢...
å‰ç«¯åŠ è½½å¤±è´¥: -102 ERR_CONNECTION_REFUSED
```

**åŸå› **ï¼šå‰ç«¯æ–‡ä»¶æœªæ„å»ºæˆ–Reactå¼€å‘æœåŠ¡å™¨æœªå¯åŠ¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ–¹æ¡ˆAï¼šé‡æ–°è¿è¡Œç”Ÿäº§æ¨¡å¼
.\start-lightweight.bat

# æ–¹æ¡ˆBï¼šæ‰‹åŠ¨æ„å»ºå‰ç«¯
cd frontend
npm run build

# æ–¹æ¡ˆCï¼šä½¿ç”¨å¼€å‘æ¨¡å¼
.\start-lightweight-dev.bat
```

### âŒ é—®é¢˜2ï¼šNode.jsæœªå®‰è£…

**ç—‡çŠ¶**ï¼š
```
âŒ Node.jsæœªå®‰è£…æˆ–ä¸åœ¨PATHä¸­
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. è®¿é—® https://nodejs.org/
2. ä¸‹è½½å¹¶å®‰è£…æœ€æ–°LTSç‰ˆæœ¬
3. é‡å¯å‘½ä»¤æç¤ºç¬¦
4. è¿è¡Œ `node --version` éªŒè¯å®‰è£…

### âŒ é—®é¢˜3ï¼šç«¯å£è¢«å ç”¨

**ç—‡çŠ¶**ï¼š
```
Error: listen EADDRINUSE: address already in use :::8088
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :8088

# ç»“æŸè¿›ç¨‹ï¼ˆæ›¿æ¢PIDï¼‰
taskkill /PID è¿›ç¨‹ID /F

# æˆ–ä½¿ç”¨å…¶ä»–ç«¯å£
set PORT=8089 && npm start
```

### âŒ é—®é¢˜4ï¼šä¾èµ–å®‰è£…å¤±è´¥

**ç—‡çŠ¶**ï¼š
```
âŒ åç«¯ä¾èµ–å®‰è£…å¤±è´¥
npm ERR! ...
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ¸…ç†npmç¼“å­˜
npm cache clean --force

# åˆ é™¤node_modulesé‡æ–°å®‰è£…
cd backend-nodejs
rmdir /s node_modules
npm install

# æˆ–ä½¿ç”¨yarn
npm install -g yarn
yarn install
```

### âŒ é—®é¢˜5ï¼šSQLiteæƒé™é”™è¯¯

**ç—‡çŠ¶**ï¼š
```
SQLITE_CANTOPEN: unable to open database file
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# ç¡®ä¿æ•°æ®ç›®å½•å­˜åœ¨ä¸”æœ‰å†™æƒé™
mkdir backend-nodejs\data
# Windowsä¸‹ç»™äºˆå®Œå…¨æ§åˆ¶æƒé™
icacls backend-nodejs\data /grant Everyone:F
```

## ğŸ“Š å¯åŠ¨æ¨¡å¼å¯¹æ¯”

| ç‰¹æ€§ | ç”Ÿäº§æ¨¡å¼ | å¼€å‘æ¨¡å¼ | æ‰‹åŠ¨æ¨¡å¼ |
|------|----------|----------|----------|
| å¯åŠ¨é€Ÿåº¦ | ğŸ”¥ å¿«ï¼ˆæ„å»ºåï¼‰ | ğŸŸ¡ ä¸­ç­‰ | ğŸŸ¡ ä¸­ç­‰ |
| æ€§èƒ½ | ğŸ”¥ æœ€ä½³ | ğŸŸ¡ è‰¯å¥½ | ğŸŸ¡ è‰¯å¥½ |
| çƒ­é‡è½½ | âŒ å¦ | âœ… æ˜¯ | âœ… å¯é…ç½® |
| å¼€å‘å·¥å…· | âŒ å¦ | âœ… æ˜¯ | âœ… å¯é…ç½® |
| é€‚ç”¨åœºæ™¯ | æ—¥å¸¸ä½¿ç”¨ | å¼€å‘è°ƒè¯• | é«˜çº§ç”¨æˆ· |
| é¦–æ¬¡å¯åŠ¨æ—¶é—´ | 2-3åˆ†é’Ÿ | 1-2åˆ†é’Ÿ | 1-2åˆ†é’Ÿ |
| èµ„æºå ç”¨ | ğŸ”¥ æœ€ä½ | ğŸŸ¡ ä¸­ç­‰ | ğŸŸ¡ ä¸­ç­‰ |

## ğŸ” é»˜è®¤è´¦æˆ·ä¿¡æ¯

```
ç”¨æˆ·å: admin
å¯†ç : admin123
```

âš ï¸ **é‡è¦**ï¼šç”Ÿäº§ç¯å¢ƒè¯·åŠæ—¶ä¿®æ”¹é»˜è®¤å¯†ç ï¼

## ğŸŒ æœåŠ¡åœ°å€

| æœåŠ¡ | åœ°å€ | è¯´æ˜ |
|------|------|------|
| åç«¯API | http://localhost:8088 | Node.js ExpressæœåŠ¡ |
| å¥åº·æ£€æŸ¥ | http://localhost:8088/health | æœåŠ¡çŠ¶æ€æ£€æŸ¥ |
| å‰ç«¯å¼€å‘ | http://localhost:3000 | Reactå¼€å‘æœåŠ¡å™¨ï¼ˆå¼€å‘æ¨¡å¼ï¼‰ |
| å‰ç«¯ç”Ÿäº§ | file:///.../build/index.html | æœ¬åœ°æ„å»ºæ–‡ä»¶ï¼ˆç”Ÿäº§æ¨¡å¼ï¼‰ |

## ğŸ“ æ—¥å¿—æŸ¥çœ‹

### åç«¯æ—¥å¿—
```bash
# å®æ—¶æŸ¥çœ‹
type backend-nodejs\logs\combined.log

# é”™è¯¯æ—¥å¿—
type backend-nodejs\logs\error.log

# PowerShellä¸­æŸ¥çœ‹
Get-Content backend-nodejs\logs\combined.log -Tail 50 -Wait
```

### å‰ç«¯æ—¥å¿—
- **å¼€å‘æ¨¡å¼**ï¼šåœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„æ§åˆ¶å°æŸ¥çœ‹
- **ç”Ÿäº§æ¨¡å¼**ï¼šåœ¨Electronçš„å¼€å‘è€…å·¥å…·æŸ¥çœ‹ï¼ˆF12ï¼‰

## ğŸ› ï¸ é«˜çº§é…ç½®

### ç¯å¢ƒå˜é‡
åˆ›å»º `backend-nodejs\.env` æ–‡ä»¶ï¼š
```env
PORT=8088
DATABASE_PATH=./data/database.sqlite
JWT_SECRET=your-custom-secret-key
JWT_EXPIRES_IN=24h
LOG_LEVEL=info
NODE_ENV=production
```

### è‡ªå®šä¹‰ç«¯å£
```bash
# ä¸´æ—¶ä¿®æ”¹
set PORT=9000 && npm start

# æ°¸ä¹…ä¿®æ”¹ï¼šç¼–è¾‘ backend-nodejs\.env
PORT=9000
```

### æ•°æ®åº“ä½ç½®
```bash
# ä¿®æ”¹æ•°æ®åº“è·¯å¾„
set DATABASE_PATH=D:\MyData\autodeploy.sqlite && npm start
```

## ğŸš€ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. é¦–æ¬¡å¯åŠ¨ä¼˜åŒ–
```bash
# é¢„å…ˆå®‰è£…æ‰€æœ‰ä¾èµ–
cd backend-nodejs && npm install
cd ..\frontend && npm install

# é¢„å…ˆæ„å»ºå‰ç«¯
npm run build
```

### 2. å†…å­˜ä¼˜åŒ–
```bash
# é™åˆ¶Node.jså†…å­˜ä½¿ç”¨
node --max-old-space-size=512 server.js
```

### 3. å¯åŠ¨åŠ é€Ÿ
```bash
# è·³è¿‡å¯é€‰ä¾èµ–
npm install --production --no-optional
```

## ğŸ”„ ç‰ˆæœ¬å‡çº§

### ä»Javaç‰ˆæœ¬è¿ç§»
1. å¯¼å‡ºç°æœ‰æ•°æ®ï¼ˆå¦‚æœéœ€è¦ï¼‰
2. è¿è¡Œè½»é‡ç‰ˆ
3. é‡æ–°é…ç½®é¡¹ç›®å’ŒæœåŠ¡å™¨

### æ›´æ–°Node.jsç‰ˆæœ¬
```bash
# æ£€æŸ¥å½“å‰ç‰ˆæœ¬
node --version

# æ›´æ–°åˆ°æœ€æ–°LTS
# è®¿é—® nodejs.org ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
```

---

ğŸ‰ **äº«å—10å€æ€§èƒ½æå‡çš„æè‡´ä½“éªŒï¼**

**é—®é¢˜åé¦ˆ**ï¼šå¦‚é‡é—®é¢˜è¯·æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶æˆ–å‚è€ƒæ­¤æŒ‡å—
